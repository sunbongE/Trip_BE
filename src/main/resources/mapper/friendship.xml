<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.friendship.model.mapper.FriendshipMapper">
	<resultMap type="friendshipDto" id ="friendship">
		<result column = "id" property= "id"/>
		<result column = "from_user_id" property= "fromUserId"/>
		<result column = "to_user_id" property= "toUserId"/>
		<result column = "status" property= "status"/>
		<result column = "sinceDate" property= "sinceDate"/>
	</resultMap>


	<select id="getReceived" parameterType="string" resultMap="friendship">
	select id, from_user_id,to_user_id
	from friendship
	where to_user_id = #{userId} and status = 203
	</select>

	<update id="answer" parameterType="friendshipDto">
	update friendship 
	set status = #{status}
	where id = #{id}
	</update>

	<delete id="deleteById" parameterType="int">
	delete from friendship
	where id = #{id}
	
	</delete>
	
	<insert id="friendRequest" parameterType="map">
	insert into friendship(from_user_id,to_user_id)
	values(#{fromUserId},#{toUserId})
	</insert>
	
</mapper>